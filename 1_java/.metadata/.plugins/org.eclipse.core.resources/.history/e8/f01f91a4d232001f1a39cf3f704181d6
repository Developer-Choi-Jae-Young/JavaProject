package main;

import java.lang.reflect.Constructor;
import java.lang.reflect.Executable;
import java.lang.reflect.Parameter;
import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;


import Function.UserInfo;
import database.ClassType;
import database.Functional;
import dto.User;
import etc.Grade;
import kh.study.cjy.view.View;

public class Run {

	public static void main(String[] args) {
		System.out.println("Program Start ...");
		
		new View();
		//Scanner sc = new Scanner(System.in);
		//UserInfo ui = new UserInfo();
		
		/*
		 	try {
			Class<?> class1 = Class.forName("dto.User");
			Constructor<?>[] constructor = class1.getConstructors();
			
			List<Class<?>> constarctParamClass = new ArrayList<Class<?>>(); 
			
			for(Constructor<?> c : constructor) {				
				Parameter[] p = c.getParameters();
				
				if(p.length <= 0) continue;
				
				for(Parameter pp : p) {
					String str3 = pp.getParameterizedType().getTypeName();
					constarctParamClass.add(Class.forName(str3));
					System.out.println(str3);
				}
				
				Class<?>[] arrayConstractParamClass = new Class<?>[constarctParamClass.size()];
				for(int i = 0; i < arrayConstractParamClass.length; i++) {
					arrayConstractParamClass[i] = constarctParamClass.get(i);
				}
				Constructor<?> constructor3 = class1.getConstructor(arrayConstractParamClass);
				Object human3 = constructor3.newInstance(1, "a","a",1,"a","a",Grade.ADMIN,ClassType.CLASS_A);
				System.out.print(human3);
			}
			
			Object human1 = constructor1.newInstance();
		} catch (Exception e) {
			e.printStackTrace();
		}*/
		
		Functional fi = new Functional();
		//fi.CallSql(fi.Connect(),"Select * from User;");
		List<Object> o = fi.ResultSetToArray(fi.CallSql(fi.Connect(),"Select * from User;"), User.class, null);
		
		for(Object oo : o) {
			User u = (User)oo;
			System.out.println(u.getAge());
			System.out.println(u.getEmail());
			System.out.println(u.getId());
			System.out.println(u.getName());
			System.out.println(u.getPassword());
		}
	}
}
